<!DOCTYPE html> <html> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width initial-scale=1"> <title>Mail Forwarding With Mailgun and CloudFlare</title> <meta name="description" content="After moving my DNS from Namecheap to CloudFlare I lost the ability to use Namecheap as a mail forwarder. For anyone not sure what that is, essentially it al..."> <link href="//chrisanthropic.github.io/slim-pickins-jekyll-theme/css/main.css" media="screen, projection" rel="stylesheet" type="text/css"> <link rel="canonical" href="//chrisanthropic.github.io/slim-pickins-jekyll-theme/blog/2014/mail-forwarding-with-mailgun-and-cloudflare"> <link rel="alternate" type="application/atom+xml" title="Slim Pickins Jekyll Theme" href="//chrisanthropic.github.io/slim-pickins-jekyll-theme/feed.xml"/> </head> <body> <main class="wrap"> <header role="banner"> <a href="/"><img src="//chrisanthropic.github.io/slim-pickins-jekyll-theme/images/banner-xl.jpg" srcset="//chrisanthropic.github.io/slim-pickins-jekyll-theme/images/banner-small.jpg 200w, //chrisanthropic.github.io/slim-pickins-jekyll-theme/images/banner-med.jpg 641w, //chrisanthropic.github.io/slim-pickins-jekyll-theme/images/banner-large.jpg 1025w, //chrisanthropic.github.io/slim-pickins-jekyll-theme/images/banner-xl.jpg 1441w" alt="Slim Pickins Jekyll Theme banner image" title="Slim Pickins Jekyll Theme banner image" class="center"></a> </header> <nav class="navbar"> <nav class="row"> <div id="nav"> <ul class="columns large-8 left primary-nav"> <li id="toggleMenu"><a href="#nav">Menu</a></li> <li id="hideMenu"><a href="#toggleMenu">Menu</a></li> <li><a href="//chrisanthropic.github.io/slim-pickins-jekyll-theme/">home</a></li> <li><a href="//chrisanthropic.github.io/slim-pickins-jekyll-theme/blog/">blog</a></li> <li class="dropdown"> <a href="//chrisanthropic.github.io/slim-pickins-jekyll-theme">documentation</a> <ul> <li><a href="//chrisanthropic.github.io/slim-pickins-jekyll-theme/documentation/sass.html">sass</a></li> <li><a href="//chrisanthropic.github.io/slim-pickins-jekyll-theme/documentation/grid.html">grid</a></li> <li><a href="//chrisanthropic.github.io/slim-pickins-jekyll-theme/documentation/nav.html">navigation</a></li> <li><a href="//chrisanthropic.github.io/slim-pickins-jekyll-theme/documentation/banner.html">banner</a></li> <li><a href="//chrisanthropic.github.io/slim-pickins-jekyll-theme/documentation/footer.html">sticky footer</a></li> <li><a href="//chrisanthropic.github.io/slim-pickins-jekyll-theme/documentation/rakefile.html">rakefile</a></li> <li><a href="//chrisanthropic.github.io/slim-pickins-jekyll-theme/documentation/image-optim.html">image_optim</a></li> </ul> </li> <li class="dropdown"> <a href="//chrisanthropic.github.io/slim-pickins-jekyll-theme">use</a> <ul> <li><a href="//chrisanthropic.github.io/slim-pickins-jekyll-theme/documentation/installation.html">installation</a></li> <li><a href="//chrisanthropic.github.io/slim-pickins-jekyll-theme/documentation/configuration.html">configuration</a></li> <li><a href="//chrisanthropic.github.io/slim-pickins-jekyll-theme/documentation/deploy.html">deployment</a></li> <li><a href="//chrisanthropic.github.io/slim-pickins-jekyll-theme/documentation/use.html">basic use</a></li> </ul> </li> </ul> <ul class="columns large-4 right primary-nav"> <li class="right"><a href="https://chrisanthropic.github.io/slim-pickins-jekyll-theme/feed.xml"><span class="icon-feed"></span></a></li> <li class="right"><a href="#"><span class="icon-googleplus"></span></a></li> <li class="right"><a href="#"><span class="icon-facebook"></span></a></li> <li class="right"><a href="#"><span class="icon-tumblr"></span></a></li> <li class="right"><a href="https://twitter.com/"><span class="icon-twitter"></span></a></li> <li class="right"><a href="https://github.com/chrisanthropic/slim-pickins-jekyll-theme"><span class="icon-github"></span></a></li> </ul> </div> </nav> </nav> <article class="row post-content"> <header class="post-header"> <h1 class="post-title">Mail Forwarding With Mailgun and CloudFlare</h1> <p class="post-meta">Dec 3, 2014</p> </header> <p>After moving my DNS from Namecheap to CloudFlare I lost the ability to use Namecheap as a mail forwarder. For anyone not sure what that is, essentially it allows you to receive email at anyname@your-domain.com and have it automatically forwarded somewhere else (like your personal Gmail account).</p> <p>So, what I did is leverage a free account with <a href="https://mailgun.com/">Mailgun</a> to setup the same thing.</p> <h2 id="mailgun-setup">Mailgun Setup</h2> <ul> <li>Create a Mailgun account</li> <li>Add your domain name (no www)<br/> <code>domain.com</code></li> <li>Keep the page open and open a new tab to CloudFlare</li> </ul> <h2 id="cloudflare">Cloudflare</h2> <ul> <li>Choose your site and select <code>DNS Settings</code></li> <li>Add the two <code>Text</code> records</li> <li>Add the <code>CNAME</code> record <ul> <li>Make sure the cloudflare cloud is gray and not orange/active</li> </ul> </li> <li>Add the two <code>MX</code> records <ul> <li><strong>Name</strong> <code>domain.com</code> (no www)</li> <li><strong>Mail handled by</strong> <code>mxa.mailgun.org</code> or <code>mxb.mailgun.org</code></li> </ul> </li> </ul> <h2 id="back-at-mailgun">Back at Mailgun</h2> <ul> <li>Click <code>add</code> <ul> <li>Click <code>Check DNS Records Now</code></li> </ul> </li> <li>It’ll tell you once it detects the updated DNS records</li> </ul> <h2 id="email-forwarding">Email Forwarding</h2> <ul> <li>From Mailgun, choose <code>Routes</code></li> <li><code>Create Your First Route</code></li> <li><strong>Priority</strong> 10</li> <li><strong>Filter Expression</strong> This is where you list the email address you want to forward to gmail<br/> <code>match_recipient("you@domain.com")</code></li> <li><strong>Actions</strong> This is the gmail address you want to receive your mail<br/> <code>forward("me@gmail.com")</code></li> <li><strong>Description</strong> Name it something so you remember what it’s for</li> </ul> <h2 id="use-gmail-to-send-mail-from-your-domain">Use Gmail to send mail from your domain</h2> <ul> <li>Log in to Gmail and go to <code>settings</code></li> <li>Go to <code>Accounts and Import</code></li> <li>Go to <code>Send mail as</code> and select <code>add another email you own</code> <ul> <li><strong>name:</strong> Anything you want</li> <li><strong>email address:</strong> name@domain.com (this should be the email you set up in the steps before)</li> <li>Leave <code>treat as an alias</code> checked</li> <li>Click <code>Next Step</code></li> <li>For the following info you’ll need to login to mailgun and use the info under <code>Domain Information</code></li> <li><strong>SMTP Server</strong> Use <code>SMTP Hostname</code> from Mailgun</li> <li><strong>Username</strong> Use <code>Default SMTP Login</code> from Mailgun</li> <li><strong>Password</strong> Use <code>Default Password</code> from Mailgun</li> <li>Leave <code>Secured connection using TLS</code> selected</li> <li>Click add account</li> </ul> </li> <li>Once it’s verified you should be able to compose emails and list your new email in the <code>from</code> line so nobody needs to know it’s coming from your personal gmail account. </li> </ul> </article> </main> <footer class="site-footer"> <div class="row"> <div class="small-6 columns"> </div> <div class="small-6 columns"> </div> </div> </footer> </body> </html>